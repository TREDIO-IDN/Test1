<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Trading App</title>

<style>
    body {
        margin: 0;
        background: #0d0d0d;
        color: white;
        font-family: Arial;
        overflow-x: hidden;
    }

    /* ==============================
       LOGIN SCREEN
    ===============================*/
    #loginScreen {
        display: flex;
        flex-direction: column;
        justify-content: center;
        height: 100vh;
        padding: 20px;
        text-align: center;
    }
    #loginScreen input {
        width: 100%;
        padding: 12px;
        margin: 5px 0;
        border-radius: 6px;
        border: none;
        font-size: 16px;
    }
    #btnLogin {
        width: 100%;
        padding: 12px;
        background: #ff2a2a;
        color: white;
        border-radius: 6px;
        border: none;
        font-size: 18px;
        margin-top: 10px;
    }
    #loginError {
        display: none;
        color: red;
        margin-top: 10px;
    }

    /* ==============================
       MAIN APP GRID
    ===============================*/
    #mainApp {
        display: none;
        grid-template-rows: auto 1fr auto;
        height: 100vh;
    }

    /* ==============================
       SALDO
    ===============================*/
    .saldo {
        font-size: 20px;
        padding: 15px;
        font-weight: bold;
        text-align: center;
        background: #1a1a1a;
    }

    /* ==============================
       CHART AREA
    ==============================*/
    #chartArea {
        padding: 10px;
    }

    #priceInfo {
        display: flex;
        justify-content: space-between;
        font-size: 14px;
        margin: 8px 0;
    }

    /* ==============================
       TIMELINE BINOMO STYLE
    ==============================*/
    #timeLine {
        display: flex;
        width: 100%;
        margin-top: 10px;
        border-top: 1px solid #333;
        padding-top: 8px;
    }
    #timeLine div {
        flex: 1;
        text-align: center;
        font-size: 11px;
        color: #bbb;
    }

    /* BOTTOM BAR */
    #bottomBar {
        background: #111;
        text-align: center;
        padding: 12px;
        font-size: 15px;
        border-top: 1px solid #333;
    }
</style>

</head>
<body>

<!-- ===============================
     LOGIN SCREEN
=================================== -->
<div id="loginScreen">
    <h2>Login</h2>
    <input id="loginUser" placeholder="Username">
    <input id="loginPass" placeholder="Password" type="password">
    <button id="btnLogin">Masuk</button>
    <div id="loginError">Username atau password salah!</div>
</div>

<!-- ===============================
     MAIN APP
=================================== -->
<div id="mainApp">

    <div class="saldo">Rp 140.000.000</div>

    <div id="chartArea">

        <canvas id="chart" width="100%" height="260"></canvas>

        <!-- Harga -->
        <div id="priceInfo">
            <span>Harga Buka: <b id="openPrice"></b></span>
            <span>Harga Sekarang: <b id="currentPrice"></b></span>
        </div>

        <!-- TIMELINE -->
        <div id="timeLine"></div>

    </div>

    <div id="bottomBar">
        Trading Â© 2025
    </div>

</div>


<!-- ===============================
     JAVASCRIPT
=================================== -->
<script>

    /* ==========================
       LOGIN LOGIC
    ===========================*/
    const loginScreen = document.getElementById('loginScreen');
    const mainApp = document.getElementById('mainApp');
    const loginError = document.getElementById('loginError');

    document.getElementById('btnLogin').addEventListener('click', () => {
        const u = loginUser.value.trim();
        const p = loginPass.value.trim();

        if (u === "1" && p === "1") {
            loginScreen.style.display = "none";
            mainApp.style.display = "grid";
        } else {
            loginError.style.display = "block";
        }
    });

    /* ==========================
       FAKE PRICE GENERATOR
    ===========================*/
    let price = 100;
    let openPrice = price;

    document.getElementById("openPrice").innerText = openPrice;

    setInterval(()=>{
        price += (Math.random()*2 - 1);
        document.getElementById("currentPrice").innerText = price.toFixed(2);
    }, 500);


    /* ===============================
          TIMELINE BINOMO 10 MIN BACK
    ================================*/
    function pad(n){ return n.toString().padStart(2,"0"); }
    function fmt(d){ return pad(d.getHours()) + ":" + pad(d.getMinutes()); }

    function updateTimeLine(){
        const now = new Date();
        const div = document.getElementById("timeLine");

        let html = "";
        let points = 20; // total titik
        let interval = 30 * 1000; // 30 detik

        let start = new Date(now.getTime() - (points * interval));

        for(let i=0; i<=points; i++){
            let t = new Date(start.getTime() + i * interval);
            html += `<div>${fmt(t)}</div>`;
        }

        div.innerHTML = html;
    }

    updateTimeLine();
    setInterval(updateTimeLine, 1000);

</script>

</body>
</html>
